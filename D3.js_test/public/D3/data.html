<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>data绑定数据</title>
    <script src="../../lib/d3/v4/d3.js" charset="UTF-8"></script>
</head>
<body>
    <p></p>
    <p></p>

    <script>
        var persons = [{id: 1, name: "张三"},{id: 3, name: "李四"},{id: 5, name: "王五"}];

        var p = d3.select("body").selectAll("p");
        var update = p.data(persons).text(function(d, i){
            return d.id + ":" + d.name;
        });
        console.log(update);
        console.log(update.enter());    // 多余的数据
        console.log(update.exit());     // 多余的元素

        /* 注意: 只有在选择集原来已经绑定有数据的情况下,使用键函数才有效果. */
        // 绑定顺序
        persons = [{id: 5, name: "张三"},{id: 3, name: "李四"},{id: 1, name: "王五"}];
        p.data(persons, function(d){
            return d.id;
        }).text(function(d, i){
            return d.id + ":" + d.name;
        });

    </script>
</body>
</html>